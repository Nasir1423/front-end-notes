# 前端代码输出分析@9.5.md

## 具名函数表达式

```js
/* 
以下这种定义函数的方式称之为具名函数表达式：
- 函数有名字 test，但这个名字只能在函数体内部可见，不会被提升到外部作用域。
- 函数外部只能通过变量名 func 来访问该函数，而无法通过 test 访问。
- typeof 操作符在处理未定义的变量时，返回 "undefined"，而不会抛出错误。
*/
var func = function test() {
console.log(123);
};

// 由于 test 在函数体外部不可见，typeof test 会返回 "undefined"。
console.log(typeof test); // undefined

// 尝试调用 test 会导致 ReferenceError，因为 test 在当前作用域中未定义。
console.log(typeof test()); // ReferenceError: test is not defined
```

## delete 删除变量

```js
/* 
delete 操作符在 JavaScript 中的主要作用是删除对象的属性或数组的元素。
  - 它不能删除通过 var、let、const 声明的变量。
  - 在删除操作成功时，delete 返回 true；否则返回 false。
*/
(function (x) {
delete x;
console.log(typeof x); // number
})(1);
```

## 变量、函数提升

```js
/* 
JavaScript 中的函数声明会被提升到当前作用域的顶部，但变量的赋值不会被提升，只会提升变量的声明。

以下代码相当于,
  var func; // 变量提升
  function func(){} // 函数提升

  func = 1; // 变量赋值
  console.log(func + func);
*/
var func = 1;
function func() {}
console.info(func + func); // 2
```

## 数组 + 运算

```js
const res = [1, 0] + [0, 1];
console.log(res); // 1,00,1
console.log(typeof res); // string
```

## 属性描述符、Symbol、与 Object 静态方法

```js
/* 
Object.create(proto[, propertiesObject]) 该静态方法以一个现有对象作为原型，创建一个新对象。  
  - proto 新创建对象的原型对象。
  - properties 定义新对象的属性及其特性。
    (1) 该参数的取值规则等同于 Object.defineProperties 中的第二个参数
    (2) 字面量初始化对象是 Object.create(Object.prototype) 的一个语法糖
    (3) 该参数为新对象中的每个属性指定详细的配置（称之为属性描述符），可以用于控制每个属性是否可修改、是否可枚举、是否可删除

属性描述符语法 Property Descriptor
  - 属性描述符是一个对象，其用于描述对象属性的具体行为。
  - 属性描述符分为：数据描述符和访问器描述符 ---> 对应数据属性和访问器属性
    (1) 数据描述符 ---> 对应数据属性，即普通属性（默认值是 undefined，且不可修改）
      value  属性值，可以是任何有效的 JavaScript 值；默认值为 undefined
      writable 表示属性是否可以使用赋值运算符更改；boolean；默认值为 false
    (2) 访问器描述 ---> 对应访问器属性，即通过 getter / setter 获取和设置的属性
      get 属性的 getter 函数，函数的返回值被用作属性的值；默认为 undefined
      set 属性的 setter 函数，函数接收一个参数，即分配给属性的新值
    (3) 数据描述符和访问器描述符共有的字段
      enumerable 表示属性是否可以被枚举（即通过 for-in 或 Object.keys() 访问）；boolean；默认值为 false
      configurable 表示属性是否可以被删除，以及属性的属性描述符是否可以修改（即通过 Object.defineProperties 修改）；boolean；默认值为 false 
  - 一个属性描述符必须是数据描述符或访问器描述符中的任何一种，否则会报错

Symbol
  - Symbol 是 JavaScript 中的一种原始数据类型，表示唯一且不可变的值，常用于创建对象的唯一属性键（该数据类型仅有的目的）
  - 可以通过 Symbol([description]) 的方式创建一个 Symbol 值，且每个 Symbol 值都是唯一的，即使其描述相同
  - Symbols 在 for...in 迭代中不可枚举。另外，Object.getOwnPropertyNames() 不会返回 symbol 对象的属性，但是你能使用 Object.getOwnPropertySymbols() 得到它们。

Object.getOwnPropertyNames(obj)
  - Object.getOwnPropertyNames() 静态方法返回一个数组，其包含给定对象中所有自有属性（包括不可枚举属性，但不包括使用 symbol 值作为名称的属性）。
*/
const obj = Object.create(
{ num: 117 },
{
  str: {
    value: "jack",
    enumerable: false,
  },
  [Symbol()]: {
    value: 935,
    enumerable: true,
  },
}
);
console.log(Object.getOwnPropertyNames(obj)); // [ 'str' ]
```

## flex-shrink 计算

```html
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>flex</title>
  <!-- 
    flex-shrink 属性
      - flex-shrink 是一个 CSS 属性，用于控制弹性盒子（flexbox）布局中的子元素在父容器空间不足时的缩小比例。 
      - flex-shrink 的默认值是 1，表示元素会根据需要缩小。
      - 如果设置为 0，元素将不会缩小，即使父容器的空间不足以容纳所有子元素，它的宽度（或高度）也保持不变。
      - 如果设置为大于 1 的值，元素会按照这个比例优先于其他元素缩小。例如，flex-shrink: 2 的元素会缩小两倍于 flex-shrink: 1 的元素。
    当父容器的空间不足时，flex-shrink 属性会计算每个元素应当缩小的宽度或高度。计算公式大致如下：
      - 总需要缩小的空间 = 子元素宽度总和 - 父容器的宽度。
      - 每个元素的缩小值 = 需要缩小的空间 × (元素的 flex-shrink 值) / (所有子元素的 flex-shrink 值总和)。
  -->
  <!-- 
    Step1. 初始宽度：每个 span 元素的宽度：80px。
    
    Step2. 计算剩余空间：
      父容器宽度：200px。
      子元素初始宽度总和：240px。
      超出的宽度：240px - 200px = 40px。
    
    Step3. flex-shrink 计算：
      span:first-child 的 flex-shrink 为 0，意味着它不会缩小，保持 80px 宽度。
      span:last-child 的 flex-shrink 为 2，表示它的收缩比例是 2 倍于 span 中间那个默认 flex-shrink 为 1 的元素。
    
    Step4. 计算缩小比例：
      span:first-child：宽度不变，80px。
      剩余元素（span:nth-child(2) 和 span:last-child）的总收缩比例为 1 + 2 = 3，因此每个单位收缩的宽度为 40px / 3 ≈ 13.33px。
    
    Step5. 最终宽度：
      span:first-child：80px（未缩小）。
      span:nth-child(2)：80px - 13.33px ≈ 66.67px。
      span:last-child：80px - 26.67px ≈ 53.33px。
  -->
  <style>
    div {
      display: flex;
      width: 200px;
      height: 200px;

      background-color: aliceblue;
    }

    span {
      width: 80px;
      height: 200px;
    }

    span:first-child {
      flex-shrink: 0;
    }

    span:last-child {
      flex-shrink: 2;
    }
  </style>
</head>

<body>
  <div>
    <span style="background-color: palegoldenrod;"></span>
    <span style="background-color: aquamarine;"></span>
    <span style="background-color: darkcyan;"></span>
  </div>
</body>
</html>
```

