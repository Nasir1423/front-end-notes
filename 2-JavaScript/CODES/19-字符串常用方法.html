<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>字符串常用方法</title>
</head>

<body>
    <script>
        /*
            字符串
            - 字符串是不可变类型，因此其属性和方法都是非破坏性的
            - 字符串的本质是一个字符数组，其很多方法都和数组类似
            - 因为字符串是可迭代对象，因此可以使用 for-of 语句遍历一个字符串，每次遍历的字符串中的一个字符
        */

        // for-of 遍历字符串
        const str1 = "characters"
        for (const char of str1) {
            process.stdout.write(char + "_"); // c_h_a_r_a_c_t_e_r_s_
        }

        /* 
            字符串的属性
            - str.length 获取字符串的长度
        */

        const str2 = "characters";
        console.log(`length of string "${str2}" is ${str2.length}`); // length of string "characters" is 10

        /* 
            字符串方法之读取字符[1]
                - str[index]
                - str.at(index)
                - str.charAt(index)
        */

        const str3 = "characters";

        // str[index] 返回指定位置的字符
        console.log(`读取字符串 "${str3}" 偶数位字符构成的字符串：`);
        for (let i = 0; i < str3.length; i++) {
            if (i % 2 === 0) {
                process.stdout.write(str3[i] + "_"); // c_a_a_t_r_
            }
        }
        console.log();

        // str.at(index) 返回指定位置的字符，接受负索引
        console.log(`字符串 ${str3} 第 3 位字符为 ${str3.at(3)}`); // 字符串 characters 第 3 位字符为 r
        console.log(`字符串 ${str3} 第 -3 位字符为 ${str3.at(-3)}`); // 字符串 characters 第 -3 位字符为 e

        // str.charAt(index) 返回指定位置的字符，不接受负索引
        console.log(`字符串 ${str3} 第 3 位字符为 ${str3.charAt(3)}`); // 字符串 characters 第 3 位字符为 r
        console.log(`字符串 ${str3} 第 -3 位字符为 ${str3.charAt(-3)}`); // 字符串 characters 第 -3 位字符为 (这里是返回一个空串)

        /* 
            字符串之内容检查[2]
                - str.includes(substr, [start]) 
                - str.indexOf(substr, [start])
                - str.lastIndexOf(substr, [start])
                - str.startWith(substr, [start])
                - str.endWith(substr, [start])
                - str.padStart(number, [substr])
                - str.padEnd(number, [substr])
        */

        const str4 = "characters";

        // str.includes(substr, [start]) （从某个位置开始）检查字符串中是否包含某个子串，有则返回 true，无则返回 false
        console.log(str4.includes("char")); // true
        console.log(str4.includes("char", 2)); // false
        console.log(str4.includes("chars")); // false

        // str.indexOf(substr, [start]) （从某个位置开始）查询字符串中某个子串第一次出现的位置，有则返回位置，无则返回 -1
        // str.lastIndexOf(substr, [start]) indexOf 从前向后查找、lastIndexOf 从后向前寻找
        console.log(str4.indexOf('c')); // 0
        console.log(str4.indexOf('c', 3)); // 5
        console.log(str4.lastIndexOf('c')); // 5
        console.log(str4.lastIndexOf('as')); // -1

        // str.startWith(substr, [start]) （从某个位置开始）检查字符串是否以某个子串开头 
        // str.endWith(substr, [start]) （从某个位置开始）检查字符串是否以某个子串结束
        console.log(str4.startsWith("char")) // true
        console.log(str4.startsWith("chars")) // false
        console.log(str4.startsWith("ara", 2)); // true

        // str.padStart(number, [substr]) 通过在字符串开头添加子串内容，使得字符串满足 number 要求的长度（默认添加空格）
        // str.padEnd(number, [substr]) 通过在字符串结尾添加子串内容，使得字符串满足 number 要求的长度（默认添加空格）
        console.log(str4.padStart(20));
        console.log(str4.padStart(20, "填充内容"));
        console.log(str4.padEnd(30, "♥★"));

        /* 
            字符串之内容修改[3]（返回一个修改后的字符串）
                - str.replace(str1, str2)
                - str.replaceAll(str1, str2)
                - str.toLowerCase()
                - str.toUpperCase()
                - str.trim()
                - str.trimStart()
                - str.trimEnd()
        */

        const str5 = "characters";

        // str.replace(str1, str2) 将字符串中的 str1 内容使用 str2 替换（只替换一次）
        console.log(str5.replace("a", "A")); // chAracters

        // str.replaceAll(str1, str2) 将字符串中的 str1 内容使用 str2 全部替换
        console.log(str5.replaceAll("a", "[A]")); // ch[A]r[A]cters

        // str.toLowerCase() 将字符串全部字符变小写
        // str.toUpperCase() 将字符串全部字符变大写
        console.log(str5.toLowerCase()); // characters
        console.log(str5.toUpperCase()); // CHARACTERS

        // str.trim() 清除字符串前后空格
        // str.trimStart() 清除字符串前边的空格
        // str.trimEnd() 清除字符串后边的空格
        const str6 = "      characters     "; // |      characters     |
        console.log("|" + str6 + "|");
        console.log("|" + str6.trim() + "|"); // |characters|
        console.log("|" + str6.trimStart() + "|"); // |characters     |
        console.log("|" + str6.trimEnd() + "|"); // |      characters|

        /* 
            字符串之内容截取（获取子串）[4]
                - str.slice(a, b)
                - str.substring(a, b)
                - str.substr(start, number)
                - str.split(seq)
        */

        const str7 = "characters";

        // str.slice(a, b) 返回字符串 [a, b) 之间的子串
        console.log(str7.slice(2, 5)); // ara

        // str.substring(a, b) 返回字符串 [a, b) 之间的子串
        console.log(str7.substring(2, 5)); // ara

        // str.substr(start, number) 返回字符串从 start 开始的 number 个字符构成的子串
        console.log(str7.substr(2, 3)); // ara

        // str.split(seq) 根据 seq 将字符串分为若干子串，返回子串构成的一个数组
        console.log(str7.split("a")); // [ 'ch', 'r', 'cters' ]

        /* 
            字符串之其他 [5]
                - str.concat(str1, str2, ...)
                - str.repeat(number)
        */

        const str8 = "characters";

        // str.concat(str1, str2, ...) 拼接两个或多个字符串，和加号（+）的作用相同
        console.log("Hello".concat(" World")); // Hello World

        // str.repeat(number) 将一个字符串重复 number 次
        console.log(str8.repeat(3)); // characterscharacterscharacters
    </script>
</body>

</html>